{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sexy Shop Rur√≥polis</title>

    <!-- Importa todos os CSS globais -->
   <link rel="stylesheet" href="{% static 'loja/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'loja/css/header.css' %}">
    <link rel="stylesheet" href="{% static 'loja/css/home.css' %}">

    
    <!-- Bloco para CSS espec√≠fico de cada p√°gina (opcional) -->
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- CABE√áALHO (Aparece em todas as p√°ginas) -->
    <header>
      <div class="container topbar">
        <div class="brand-left"></div>
        <div class="brand">
          <div class="logo">
            <a href="{% url 'home' %}">
                <img src="{% static 'loja/img/logo.jpeg.jpeg' %}" alt="Sexy Shop Rur√≥polis">
            </a>
          </div>
          <h1 class="brand-title">Sexy Shop Rur√≥polis</h1>
        </div>
        <div class="brand-right">
          <a class="cart-link" href="/carrinho/">
            üõí Carrinho <span class="cart-badge">{{ carrinho_qtd|default:"0" }}</span>
          </a>
        </div>
      </div>
    </header>
   <!-- BARRA DE CATEGORIAS (FIXA EM TODAS AS P√ÅGINAS) -->
    <div class="section-categorias-wrapper">
        <div class="container-cats-center">
            <!-- Lista de Bot√µes -->
            <div class="lista-botoes-cats">
                <!-- Bot√£o "Todas" -->
                <a class="botao-cat" href="/">
                    Todas
                </a>

                <!-- Loop das Categorias -->
                {% for c in categorias_globais %}
                    <a class="botao-cat" href="/?cat={{ c.slug }}">
                        {{ c.nome }}
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>

    <div id="mensagens-flutuantes">
        {% if messages %}
            {% for message in messages %}
                <div class="msg-alerta {{ message.tags }}">
                    <span class="msg-icon">
                        {% if message.tags == 'success' %}‚úÖ{% elif message.tags == 'error' %}‚ö†Ô∏è{% else %}‚ÑπÔ∏è{% endif %}
                    </span>
                    <span style="flex:1;">{{ message }}</span>
                    <button class="fechar-msg">√ó</button>
                </div>
            {% endfor %}
        {% endif %}
    </div>
    <script>
  // Fecha ao clicar no X
  document.addEventListener('click', function(e) {
      if (e.target.classList.contains('fechar-msg')) {
          const box = e.target.closest('.msg-alerta');
          if (box) box.remove();
      }
  });

  // Some automaticamente depois de 4 segundos
  window.addEventListener('load', function() {
      const msgs = document.querySelectorAll('.msg-alerta');
      msgs.forEach(function(box) {
          setTimeout(function() {
              if (!box) return;
              box.style.transition = 'opacity 0.4s, transform 0.4s';
              box.style.opacity = '0';
              box.style.transform = 'translateY(-6px)';
              setTimeout(function() {
                  if (box && box.parentNode) {
                      box.parentNode.removeChild(box);
                  }
              }, 400);
          }, 4000); // 4000 ms = 4 segundos
      });
  });
</script>

    <!-- CONTE√öDO DA P√ÅGINA (Isso muda em cada p√°gina) -->
    <main>
        {% block content %}
        {% endblock %}
    </main>
     <!-- HERO BANNER -->
   



    <footer>
        &copy; 2025 Sexy Shop Rur√≥polis - Todos os direitos reservados.
    </footer>

</body>
</html>
